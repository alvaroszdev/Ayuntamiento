import"./main-omiy26e1.js";/* empty css              */const i=document.querySelectorAll(".calendar-step"),f=document.querySelector(".btn-prev"),g=document.querySelector(".btn-next"),y=document.querySelector(".month-grid"),m=document.getElementById("day-grid"),v=document.getElementById("time-slots"),h=document.getElementById("resumo-reserva"),p=document.getElementById("booking-form");let o=null,a=null,l=null;const d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],E=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];let r=0;function u(t){i.forEach((e,n)=>{e.classList.toggle("active",n===t)}),f.disabled=t===0,g.style.display=t===i.length-1?"none":"inline-block"}function b(){d.forEach((t,e)=>{const n=document.createElement("div");n.textContent=t,n.addEventListener("click",()=>{o=e,s()}),y.appendChild(n)})}function L(){m.innerHTML="";const t=new Date().getFullYear(),e=new Date(t,o+1,0).getDate();for(let n=1;n<=e;n++){const c=document.createElement("div");c.textContent=n,c.addEventListener("click",()=>{a=n,s()}),m.appendChild(c)}}function S(){v.innerHTML="",E.forEach(t=>{const e=document.createElement("div");e.textContent=t,e.addEventListener("click",()=>{l=t,s()}),v.appendChild(e)})}function k(){const t=`${a} de ${d[o]} a las ${l}`;h.innerHTML=`<p><strong>Reserva:</strong> ${t}</p>`}function s(){r===0&&o!==null&&L(),r===1&&a!==null&&S(),r===2&&l!==null&&k(),r<i.length-1&&(r++,u(r))}function M(){r>0&&(r--,u(r))}g.addEventListener("click",s);f.addEventListener("click",M);p.addEventListener("submit",t=>{if(t.preventDefault(),o!==null&&a!==null&&l!==null){const e={nombre:document.getElementById("name").value,email:document.getElementById("email").value,fecha:`${a} de ${d[o]}`,hora:l};console.log("Reserva a enviar:",e),C(e)}else alert("Por favor, completa todos los pasos de la reserva.")});const C=async t=>{try{const e=await fetch("http://localhost:3000/reservas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){const n=await e.json();console.log("Reserva guardada correctamente:",n),alert("Reserva realizada con Ã©xito"),p.reset()}else console.error("Error al guardar la reserva"),alert("Hubo un error al realizar la reserva")}catch(e){console.error("Error al conectar con el servidor:",e),alert("Hubo un problema al conectar con el servidor.")}};b();u(r);
